(this["webpackJsonpweb-frontend"]=this["webpackJsonpweb-frontend"]||[]).push([[0],{208:function(e,a,t){},334:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(40),s=t.n(o),c=(t(208),t(71),t(78)),i=t(33),l=t(378),d=t(396),j=t(388),h=t(43),b=t.n(h),u="localhost"===window.location.hostname.split(":")[0]?"http://localhost:5000":"",m=t(1),x=function(e,a){var t=a.resetForm;console.log("values",e),b.a.post("".concat(u,"/api/v1/signup"),{name:e.name,lastName:e.lastName,email:e.email,password:e.password}).then((function(e){console.log(e.data),t({})}))},p=i.a({name:i.b("Enter your First Name").min(3,"Too Short!").max(20,"Too Long!").required("Enter your name"),lastName:i.b().min(3,"Too Short!").max(20,"Too Long!").required("Enter your LastName"),email:i.b("Enter your Email").email("Enter a valid Email").min(6,"Too Short!").max(50,"Too Long!").required("Required"),password:i.b("Enter your Password").required("Enter a password").min(6,"password is weak!").required("Please enter password here")});var O=function(){var e=Object(c.a)({validationSchema:p,initialValues:{name:"",lastName:"",email:"",password:""},onSubmit:x});return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"form",children:Object(m.jsx)("div",{className:"main",children:Object(m.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(m.jsx)("h1",{children:"SIGNUP FORM"}),Object(m.jsxs)(l.a,{spacing:2,children:[Object(m.jsx)(j.a,{fullWidth:!0,className:"text",color:"secondary",id:" name",name:"name",label:"Name",value:e.values.name,onChange:e.handleChange,error:e.touched.name&&Boolean(e.errors.name),helperText:e.touched.name&&e.errors.name}),Object(m.jsx)(j.a,{fullWidth:!0,className:"text",color:"secondary",id:"lastName",name:"lastName",label:"lastName",value:e.values.lastName,onChange:e.handleChange,error:e.touched.lastName&&Boolean(e.errors.lastName),helperText:e.touched.lastName&&e.errors.lastName}),Object(m.jsx)(j.a,{fullWidth:!0,color:"secondary",className:"text",id:"email",name:"email",label:"Email",value:e.values.email,onChange:e.handleChange,error:e.touched.email&&Boolean(e.errors.email),helperText:e.touched.email&&e.errors.email}),Object(m.jsx)(j.a,{fullWidth:!0,color:"secondary",className:"text",id:"password",name:"password",label:"Password",type:"password",value:e.values.password,onChange:e.handleChange,error:e.touched.password&&Boolean(e.errors.password),helperText:e.touched.password&&e.errors.password}),Object(m.jsx)(d.a,{color:"secondary",variant:"contained",fullWidth:!0,type:"submit",children:"Submit"})]})]})})})})},g=t(23),v=t(10),f=t(3),w=function(e,a){switch(a.type){case"USER_LOGIN":return a.payload.name&&a.payload.email?Object(f.a)(Object(f.a)({},e),{},{user:a.payload}):(console.log("invalid data in USER_LOGIN reducer "),e);case"USER_LOGOUT":return Object(f.a)(Object(f.a)({},e),{},{user:null});case"TOGGLE_THEME":return Object(f.a)(Object(f.a)({},e),{},{darkTheme:!e.darkTheme});default:return e}},y=Object(n.createContext)("Initial Value"),N={darkTheme:!0,user:void 0};function S(e){var a=e.children,t=Object(n.useReducer)(w,N),r=Object(v.a)(t,2),o=r[0],s=r[1];return Object(m.jsx)(y.Provider,{value:{state:o,dispatch:s},children:a})}var C=i.a({email:i.b("Enter your Email").email("Enter a valid Email").min(6,"Too Short!").max(50,"Too Long!").required("Required"),password:i.b("Enter your Password").required("Enter a password").min(6,"password is weak!").required("Please enter password here")});var E=function(){var e=Object(g.g)(),a=Object(n.useContext)(y),t=(a.state,a.dispatch),r=Object(c.a)({validationSchema:C,initialValues:{email:"",password:""},onSubmit:function(a){console.log("values",a),b.a.post("".concat(u,"/api/v1/login"),{email:a.email,password:a.password},{withCredentials:!0}).then((function(a){console.log(a.data),e.push("/"),alert("User Logined"),a.data.email&&t({type:"USER_LOGIN",payload:{name:a.data.name,email:a.data.email,lastName:a.data.lastName,_id:a.data._id}})}))}});return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"form",children:Object(m.jsxs)("div",{className:"main",children:[Object(m.jsx)("h1",{children:"LOGIN FORM"}),Object(m.jsx)("form",{onSubmit:r.handleSubmit,children:Object(m.jsxs)(l.a,{spacing:2,children:[Object(m.jsx)(j.a,{fullWidth:!0,color:"secondary",className:"text",id:"email",name:"email",label:"Email",value:r.values.email,onChange:r.handleChange,error:r.touched.email&&Boolean(r.errors.email),helperText:r.touched.email&&r.errors.email}),Object(m.jsx)(j.a,{fullWidth:!0,color:"secondary",className:"text",id:"password",name:"password",label:"Password",type:"password",value:r.values.password,onChange:r.handleChange,error:r.touched.password&&Boolean(r.errors.password),helperText:r.touched.password&&r.errors.password}),Object(m.jsx)(d.a,{color:"secondary",variant:"contained",fullWidth:!0,type:"submit",children:"Submit"})]})})]})})})},T=t(385),L=t(399),k=t(401),P=t(397),F=t(400),U=(t(398),t(190)),B=t(395),R=t.p+"static/media/img1.f9c47983.jpg";var _=Object(U.a)();function G(){var e,a,t,r=Object(n.useContext)(y),o=r.state;r.dispatch;return Object(m.jsxs)(B.a,{theme:_,children:[Object(m.jsx)(T.a,{}),Object(m.jsx)("main",{children:Object(m.jsx)(L.a,{sx:{bgcolor:"background.paper",pt:8,pb:6},children:Object(m.jsxs)(F.a,{maxWidth:"sm",children:[Object(m.jsx)(k.a,{component:"img",sx:{width:151},className:"card-img",image:R,alt:"Paella dish"}),Object(m.jsx)(P.a,{component:"h6",variant:"h6",align:"center",color:"text.primary",gutterBottom:!0,children:null===o||void 0===o||null===(e=o.user)||void 0===e?void 0:e.name}),Object(m.jsx)(P.a,{component:"h6",variant:"h6",align:"center",color:"text.primary",gutterBottom:!0,children:null===o||void 0===o||null===(a=o.user)||void 0===a?void 0:a.lastName}),Object(m.jsx)(P.a,{variant:"h5",align:"center",color:"text.secondary",paragraph:!0,children:null===o||void 0===o||null===(t=o.user)||void 0===t?void 0:t.email}),Object(m.jsx)(l.a,{sx:{pt:4},direction:"row",spacing:2,justifyContent:"center",children:Object(m.jsx)(d.a,{variant:"contained",children:"Edit Profile"})})]})})}),Object(m.jsx)(L.a,{sx:{bgcolor:"background.paper",p:6},component:"footer",children:Object(m.jsx)(P.a,{variant:"subtitle1",align:"center",color:"text.secondary",component:"h5",children:"Note: For any correction or change is required in your profile information.Please contact us."})})]})}var W=t.p+"static/media/loading.81cf4544.gif";var q=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{children:Object(m.jsx)("img",{src:W,alt:"",className:"splash"})})})},I=t(18),M=t(12),D=t.p+"static/media/post.9ed46a40.jpg",A=t(6),V=t(404),H=t(405),J=t(406),z=t(407),K=t(408),Q=t(394),X=t(403),Y=t(70),Z=t(186),$=t.n(Z),ee=t(187),ae=t.n(ee),te=t(188),ne=t.n(te),re=t(185),oe=t.n(re),se=["expand"],ce=Object(A.a)((function(e){e.expand;var a=Object(M.a)(e,se);return Object(m.jsx)(X.a,Object(f.a)({},a))}))((function(e){var a=e.theme;return{transform:e.expand?"rotate(180deg)":"rotate(0deg)",marginLeft:"auto",transition:a.transitions.create("transform",{duration:a.transitions.duration.shortest})}}));function ie(e){var a=e.name,t=e.text,r=e.email,o=e.description,s=e.timestamp,c=n.useState(!1),i=Object(v.a)(c,2),l=i[0],d=i[1];return Object(m.jsxs)(V.a,{sx:{maxWidth:345},className:"cards",children:[Object(m.jsx)(H.a,{avatar:Object(m.jsx)(Q.a,{sx:{bgcolor:Y.a[500]},"aria-label":"recipe",children:a[0]}),action:Object(m.jsx)(X.a,{"aria-label":"settings",children:Object(m.jsx)(oe.a,{})}),title:a,subheader:r}),Object(m.jsx)(k.a,{component:"img",height:"194",image:D,alt:"Paella dish"}),Object(m.jsxs)(J.a,{children:[Object(m.jsx)(P.a,{variant:"body2",color:"text.secondary",children:s}),Object(m.jsx)(P.a,{variant:"body2",color:"text.secondary",children:t})]}),Object(m.jsxs)(z.a,{disableSpacing:!0,children:[Object(m.jsx)(X.a,{"aria-label":"add to favorites",children:Object(m.jsx)($.a,{})}),Object(m.jsx)(X.a,{"aria-label":"share",children:Object(m.jsx)(ae.a,{})}),Object(m.jsx)(ce,{expand:l,onClick:function(){d(!l)},"aria-expanded":l,"aria-label":"show more",children:Object(m.jsx)(ne.a,{})})]}),Object(m.jsx)(K.a,{in:l,timeout:"auto",unmountOnExit:!0,children:Object(m.jsx)(J.a,{children:Object(m.jsx)(P.a,{paragraph:!0,children:o})})})]})}var le=i.a({post:i.b("Enter your First Name").min(3,"Too Short!").max(100,"Too Long!"),description:i.b().min(3,"Too Short!").max(20,"Too Long!")});var de=function(){var e=Object(n.useState)(""),a=Object(v.a)(e,2),t=a[0],r=a[1],o=Object(n.useContext)(y),s=(o.state,o.dispatch,Object(n.useState)([])),i=Object(v.a)(s,2),h=i[0],x=i[1],p=Object(n.useState)(!1),O=Object(v.a)(p,2),g=O[0],f=O[1],w=Object(n.useState)(!0),N=Object(v.a)(w,2),S=N[0],C=N[1];Object(n.useEffect)((function(){b.a.get("".concat(u,"/api/v1/posts?page=0"),{withCredentials:!0}).then((function(e){console.log("res +++: ",e.data),x(e.data)}))}),[g]);var E=Object(c.a)({validationSchema:le,initialValues:{post:"",description:""},onSubmit:function(){""!==t&&b.a.post("".concat(u,"/api/v1/post"),{postText:t,description:t},{withCredentials:!0}).then((function(e){console.log("res: ",e.data),f(!g),alert("post created")}))}});return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"form",children:Object(m.jsx)("div",{className:"main",children:Object(m.jsxs)("form",{onSubmit:E.handleSubmit,children:[Object(m.jsx)("h1",{children:"Post"}),Object(m.jsxs)(l.a,{spacing:2,children:[Object(m.jsx)(j.a,{fullWidth:!0,className:"text",color:"secondary",id:" post",name:"post",label:"what's in your mind",value:t,onChange:function(e){r(e.target.value)},error:E.touched.post&&Boolean(E.errors.post),helperText:E.touched.post&&E.errors.post}),Object(m.jsx)(d.a,{color:"secondary",variant:"contained",fullWidth:!0,type:"submit",children:"Submit"})]})]})})}),Object(m.jsx)("br",{}),h.map((function(e){return Object(m.jsx)(ie,{name:e.name,email:e.email,text:e.postText,description:e.description})})),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),S?Object(m.jsx)(d.a,{color:"secondary",variant:"contained",onClick:function(){b.a.get("".concat(u,"/api/v1/posts?page=").concat(h.length),{withCredentials:!0}).then((function(e){var a;if(console.log("res +++: ",e.data),null===(a=e.data)||void 0===a?void 0:a.length){var t=[].concat(Object(I.a)(h),Object(I.a)(e.data));x(t)}else C(!1)}))},children:"Load More"}):null]})},je=(t(331),t(389)),he=t(386),be=t(390),ue=t(391),me=t(387);var xe=function(){var e,a=Object(g.g)(),t=Object(n.useContext)(y),r=t.state,o=t.dispatch;return Object(n.useEffect)((function(){return b.a.get("".concat(u,"/api/v1/profile"),{withCredentials:!0}).then((function(e){console.log("res: ",e.data),e.data.email?o({type:"USER_LOGIN",payload:{name:e.data.name,email:e.data.email,lastName:e.data.lastName,_id:e.data._id}}):o({type:"USER_LOGOUT"})})).catch((function(e){o({type:"USER_LOGOUT"})})),function(){}}),[]),Object(m.jsxs)(m.Fragment,{children:[(null===r||void 0===r||null===(e=r.user)||void 0===e?void 0:e.email)?Object(m.jsx)(je.a,{bg:"light",expand:"lg",children:Object(m.jsxs)(he.a,{children:[Object(m.jsx)(je.a.Brand,{href:"#home",children:"AL HAMD"}),Object(m.jsx)(je.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(m.jsxs)(je.a.Collapse,{id:"basic-navbar-nav",children:[Object(m.jsxs)(be.a,{className:"me-auto",children:[Object(m.jsx)(be.a.Link,{onClick:function(){a.push("/profile")},children:"Profile"}),Object(m.jsx)(be.a.Link,{onClick:function(){a.push("/")},children:"Dashboard"})]}),Object(m.jsx)(ue.a,{className:"d-flex",children:Object(m.jsx)(me.a,{variant:"outline-primary",onClick:function(){b.a.post("".concat(u,"/api/v1/logout"),{},{withCredentials:!0}).then((function(e){console.log("res +++: ",e.data),o({type:"USER_LOGOUT"})}))},children:"Logout"})})]})]})}):Object(m.jsx)(je.a,{bg:"light",expand:"lg",children:Object(m.jsxs)(he.a,{children:[Object(m.jsx)(je.a.Brand,{href:"#home",children:"AL HAMD"}),Object(m.jsx)(je.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(m.jsx)(je.a.Collapse,{id:"basic-navbar-nav",children:Object(m.jsxs)(be.a,{className:"me-auto",children:[Object(m.jsx)(be.a.Link,{onClick:function(){a.push("/")},children:"Dashboard"}),Object(m.jsx)(be.a.Link,{onClick:function(){a.push("/login")},children:"Login"}),Object(m.jsx)(be.a.Link,{onClick:function(){a.push("/")},children:"Signup"})]})})]})}),void 0===r.user?Object(m.jsx)(g.d,{children:Object(m.jsx)(g.b,{exact:!0,path:"/",children:Object(m.jsx)(q,{})})}):null,null===r.user?Object(m.jsxs)(g.d,{children:[Object(m.jsx)(g.b,{path:"/login",component:E}),Object(m.jsx)(g.b,{exact:!0,path:"/",component:O}),Object(m.jsx)(g.a,{to:"/login"})]}):null,r.user?Object(m.jsxs)(g.d,{children:[Object(m.jsxs)(g.b,{exact:!0,path:"/",children:[Object(m.jsx)(de,{}),Object(m.jsx)(g.a,{to:"/"})]}),Object(m.jsx)(g.b,{exact:!0,path:"/profile",children:Object(m.jsx)(G,{})})]}):null]})},pe=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,409)).then((function(a){var t=a.getCLS,n=a.getFID,r=a.getFCP,o=a.getLCP,s=a.getTTFB;t(e),n(e),r(e),o(e),s(e)}))},Oe=t(102);s.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(S,{children:Object(m.jsx)(Oe.a,{children:Object(m.jsx)(xe,{})})})}),document.getElementById("root")),pe()},71:function(e,a,t){}},[[334,1,2]]]);
//# sourceMappingURL=main.0af204c6.chunk.js.map